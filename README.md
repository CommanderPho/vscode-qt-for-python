# Visual Studio Code Extension Qt for Python

[![version](https://img.shields.io/visual-studio-marketplace/v/seanwu.vscode-qt-for-python.svg)](https://marketplace.visualstudio.com/items?itemName=seanwu.vscode-qt-for-python)
[![rating](https://img.shields.io/visual-studio-marketplace/r/seanwu.vscode-qt-for-python.svg)](https://marketplace.visualstudio.com/items?itemName=seanwu.vscode-qt-for-python)
[![downloads](https://img.shields.io/visual-studio-marketplace/d/seanwu.vscode-qt-for-python.svg)](https://marketplace.visualstudio.com/items?itemName=seanwu.vscode-qt-for-python)
[![installs](https://img.shields.io/visual-studio-marketplace/i/seanwu.vscode-qt-for-python.svg)](https://marketplace.visualstudio.com/items?itemName=seanwu.vscode-qt-for-python)

A Visual Studio Code extension provides some common functionalities for PyQt5 and PySide2 with Qt Creator.

|        Qt Markup Language (`qml`)       |         Qt Style Sheets (`qss`)         |    Resource Collection Files (`qrc`)    |
|:---------------------------------------:|:---------------------------------------:|:---------------------------------------:|
| ![qml](https://i.imgur.com/YDWuDDJ.png) | ![qss](https://i.imgur.com/N1w3vs9.png) | ![qrc](https://i.imgur.com/6qW1YTI.png) |

|          `qmake` Files (`pro`)          |     Qt Linguist Translation (`qt.ts`)    |   QML Module Definition Files (`qmldir`)   |
|:---------------------------------------:|:----------------------------------------:|:------------------------------------------:|
| ![pro](https://i.imgur.com/kI3m5c4.png) | ![qtts](https://i.imgur.com/TnizAQd.png) | ![qmldir](https://i.imgur.com/F6NH69h.png) |

|         Qt Markup Language (`*.qml`)        |          Qt Designer Form (`*.ui`)          | Qt Linguist Translation (`*.qt.ts`)         |
|:-------------------------------------------:|:-------------------------------------------:|---------------------------------------------|
| ![preview](https://i.imgur.com/fSwBIjL.png) | ![preview](https://i.imgur.com/1MMSV2b.png) | ![preview](https://i.imgur.com/Wjf2PkO.png) |

## Features

* [x] Qt Markup Language (`*.qml`) highlighting and snippets support
* [x] QML Module Definition Files (`*.qmldir`) highlighting and snippets support
* [x] Qt Style Sheets (`*.qss`) highlighting and snippets support
* [x] Qt Linguist Translation (`*.qt.ts`) highlighting support (XML)
* [x] Resource Collection Files (`*.qrc`) highlighting support (XML)
* [x] Qt Designer Form (`*.ui`) highlighting support (XML)
* [x] Qt Creator User Settings (`*.pro.user`) highlighting support (XML)
* [x] `qmake` highlighting support
* [x] New form (Qt Designer `*.ui` file) command
* [x] Edit form (Qt Designer `*.ui` file) command
* [x] Edit translation (Qt Linguist `*.qt.ts` file)
* [x] Release translation (Qt Linguist `*.qt.ts` file) to `*.qm` file
* [x] Preview QML

## Requirements

This extension requires Qt Designer, Qt Linguist, Qt `lrelease` and Qt `qmlscene` for different features. You could install these tools by installing [Qt Creator](https://www.qt.io/download).

After the installation, you could find the tools within the installing folder of Qt Creator in your computer. For example, if you install Qt Creator 5.12.0 in `/opt/Qt` in Linux, you could find out the binary of these tools in `/opt/Qt/5.12.0/gcc_64/bin`. You have to set the paths of tool in **Qt for Python** section in user settings of Visual Studio Code before using the commands provided by this extension.

## Commmand and Explorer Context Menu

> **Note**: All file generated by the following command would overwrite the existing file with the same name **without warning**.

### New Form (Qt Designer UI File)

* When: Any condition for command palette or the target in explorer context is a folder.
* Behavior: Create new UI file in Qt Designer.

### Edit Form (Qt Designer UI File)

* When: The file name extension of the target file in explorer context or the current document in the editor is `*.ui`.
* Behavior: Edit the UI file in Qt Designer.

### Edit Qt Linguist Translation File

* When: The file name extension of the target file in explorer context or the current document in the editor is `*.qt.ts` and the language is `xml`.
* Behavior: Edit the `qt.ts` file in Qt Linguist.

### Release Qt Linguist Translation to QM File

* When: The file name extension of the target file in explorer context or the current document in the editor is `*.qt.ts` and the language is `xml`.
* Behavior: Use `lrelease` to convert the `qt.ts` file into `*.qm` file.

### Preview QML

* When: The file name extension of the target file in explorer context or the current document in the editor is `*.qml`.
* Behavior: Use `qmlscene` to preview the QML file.

## Extension Settings

This extension contributes the following settings:

* `qtForPython.path.designer`: The path of Qt Designer with CLI arguments to create and edit form (`*.ui`) files. For example, `/opt/Qt/5.12.0/gcc_64/bin/designer`.
* `qtForPython.path.linguist`: The path of Qt Linguist with CLI arguments to edit translation (`*.qt.ts`) files. For example, `/opt/Qt/5.12.0/gcc_64/bin/linguist`.
* `qtForPython.path.lrelease`: The path of Qt lrelease with CLI arguments to edit translation (`*.qt.ts`) files. For example, `/opt/Qt/5.12.0/gcc_64/bin/lrelease -qm ./out.qm`.
* `qtForPython.path.qmlscene`: The path of Qt QML Scene (`qmlscene`) with CLI arguments to preview QML (`*.qml`) files. For example, `/opt/Qt/5.12.0/gcc_64/bin/qmlscene --verbose`.

## Release Notes

Please see the release notes in [CHANGELOG](CHANGELOG.md).
